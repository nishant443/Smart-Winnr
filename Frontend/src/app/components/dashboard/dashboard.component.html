<div class="dashboard-container">
  <div class="dashboard-header" *ngIf="isAdmin; else userDashboard">
    <h2 class="title">Admin Dashboard</h2>
    <p class="subtitle">Welcome to Smart Winnr Admin Dashboard</p>
  </div>

  <ng-template #userDashboard>
    <div class="dashboard-header">
      <h2 class="title">User Dashboard</h2>
      <p class="subtitle">Welcome {{ currentUser?.name }}, you are signed in as a <strong>User</strong></p>
    </div>
    
    <div class="user-dashboard-content">
      <div class="welcome-card">
        <h3>Welcome to Smart Winnr</h3>
        <p>Explore content and manage your account from here.</p>
        <p><strong>User Email:</strong> {{ currentUser?.email }}</p>
        <p><strong>Status:</strong> <span class="status-badge" [class.active]="currentUser?.isActive">{{ currentUser?.isActive ? 'Active' : 'Inactive' }}</span></p>
      </div>
    </div>
  </ng-template>

  <div class="stats-grid" *ngIf="!loading && isAdmin">
    <div class="stat-card">
      <div class="stat-icon total-users">ðŸ‘¥</div>
      <div class="stat-content">
        <div class="stat-label">Total Users</div>
        <div class="stat-value">{{ overview?.totalUsers || 0 }}</div>
        <div class="stat-change">{{ overview?.todaySignups || 0 }} signups today</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon active-users">ðŸŸ¢</div>
      <div class="stat-content">
        <div class="stat-label">Active Users</div>
        <div class="stat-value">{{ overview?.activeUsers || 0 }}</div>
        <div class="stat-change">{{ overview?.todayLogins || 0 }} logins today</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon total-content">ðŸ“„</div>
      <div class="stat-content">
        <div class="stat-label">Total Content</div>
        <div class="stat-value">{{ contentStats?.totalContent || 0 }}</div>
        <div class="stat-change">{{ contentStats?.publishedContent || 0 }} published</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon engagement">âš¡</div>
      <div class="stat-content">
        <div class="stat-label">Total Sales</div>
        <div class="stat-value">{{ overview?.totalSales || 0 }}</div>
        <div class="stat-change">Revenue from platform</div>
      </div>
    </div>
  </div>

  <div class="loading-container" *ngIf="loading">
    <p><strong>Loading dashboard data...</strong></p>
  </div>

  <div class="admin-section" *ngIf="isAdmin && !loading">
    <h3>Admin Actions</h3>
    <div class="admin-links">
      <a routerLink="/users" class="action-link">Manage Users</a>
      <a routerLink="/content" class="action-link">Manage Content</a>
      <a routerLink="/analytics" class="action-link">View Analytics</a>
    </div>
  </div>
</div>
